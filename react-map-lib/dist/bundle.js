!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("leaflet"),require("react-leaflet"),require("react"));else if("function"==typeof define&&define.amd)define(["leaflet","react-leaflet","react"],e);else{var n="object"==typeof exports?e(require("leaflet"),require("react-leaflet"),require("react")):e(t.L,t[void 0],t.React);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(t,e,n){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(e,n){e.exports=t},function(t,n){t.exports=e},function(t,e,n){"use strict";n.r(e);var r,i,a,o=n(3),s=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.render=function(){return o.createElement("div",null,"Testcomponent2555522")},e}(o.Component),c=n(1),l=n(0),u=n.n(l);u.a.FastArrowMarker=u.a.CircleMarker.extend({options:{radius:10,color:"#f00",boostScale:1,boostExp:.125,rotateRad:0,biDirection:!1,rotated:!1},initialize:function(t,e){u.a.setOptions(this,e),this._latlng=Object(l.latLng)(t),this._radius=this.options.radius}}),u.a.fastArrowMarker=function(t,e){return new u.a.FastArrowMarker(t,e)},i=u.a.Canvas.prototype,a=i._updateCircle,i._updateCircle=function(t){if(!(t instanceof u.a.FastArrowMarker))return a.call(this,t);if(!this._drawing||t._empty())return;var e=t._point,n=this._ctx,r=(Math.max(Math.round(t._radius),1),Math.max(Math.round(t._radiusY),1),t.options),i=256*Math.pow(2,this._map.getZoom())/Math.PI/6378137;i=Math.pow(i,r.boostExp)*r.boostScale,r.stroke&&0!==r.weight&&r.weight,n.save();const o=e.x,s=e.y,h=20*i;n.translate(o,s),n.rotate(r.rotateRad),n.translate(-o,-s),n.font=h+"px Arial",n.fontWeight="900",n.fillColor=r.color;let c=r.biDirection?"↕":"↑";r.rotated&&(c="↓"),n.fillText(c,e.x-h/2+5*i,e.y+h/4-1*i),n.restore(),n.beginPath(),n.fillStyle=r.color,n.fill(r.fillRule||"evenodd")};var p=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();var f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p(e,t),e.prototype.createLeafletElement=function(e){return new l.LayerGroup([],t.prototype.getOptions.call(this,e))},e}(c.MapLayer),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function d(t,e){return Math.random()*(e-t)+t}var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e.prototype.createLeafletElement=function(e){for(var n={type:"FeatureCollection",features:[]},r=0;r<1e4;r++){var i=d(51.47293659014834,51.53704658542498),a={type:"Feature",geometry:{type:"Point",coordinates:[d(-.16719818115234378,-.01270294189453125),i]},properties:{}};n.features.push(a)}return new l.LayerGroup([Object(l.geoJSON)(n,{pointToLayer:function(t,e){return u.a.fastArrowMarker(e,{boostScale:2,boostExp:.125,color:"#f00",rotateRad:d(0,3.14),biDirection:d(0,10)>5,rotated:!0}).bindPopup("<div>Hello</div>")}})],t.prototype.getOptions.call(this,e))},e}(f),v=Object(c.withLeaflet)(_),g=n(4),y=n.n(g);var x=function(t){var e=(t.Layer?t.Layer:t.Class).extend({initialize:function(e){t.setOptions(this,e),this._onClickListeners=[],this._onHoverListeners=[]},setOptions:function(e){return t.setOptions(this,e),this.redraw()},redraw:function(){this._redraw(!0)},addMarkers:function(t){var e=this,n=[],r=[];t.forEach((function(t){if("markerPane"==t.options.pane&&t.options.icon){var i=t.getLatLng(),a=e._map.getBounds().contains(i),o=e._addMarker(t,i,a);!0===a&&n.push(o[0]),r.push(o[1])}else console.error("Layer isn't a marker")})),e._markers.load(n),e._latlngMarkers.load(r)},addMarker:function(t){var e=t.getLatLng(),n=this._map.getBounds().contains(e),r=this._addMarker(t,e,n);!0===n&&this._markers.insert(r[0]),this._latlngMarkers.insert(r[1])},addLayer:function(t){"markerPane"==t.options.pane&&t.options.icon?this.addMarker(t):console.error("Layer isn't a marker")},addLayers:function(t){this.addMarkers(t)},removeLayer:function(t){this.removeMarker(t,!0)},removeMarker:function(t,e){t.minX&&(t=t.data);var n=t.getLatLng(),r=this._map.getBounds().contains(n),i={minX:n.lng,minY:n.lat,maxX:n.lng,maxY:n.lat,data:t};this._latlngMarkers.remove(i,(function(t,e){return t.data._leaflet_id===e.data._leaflet_id})),this._latlngMarkers.total--,this._latlngMarkers.dirty++,!0===r&&!0===e&&this._redraw(!0)},onAdd:function(t){this._map=t,this._canvas||this._initCanvas(),this.options.pane?this.getPane().appendChild(this._canvas):t._panes.overlayPane.appendChild(this._canvas),t.on("moveend",this._reset,this),t.on("resize",this._reset,this),t.on("click",this._executeListeners,this),t.on("mousemove",this._executeListeners,this)},onRemove:function(t){this.options.pane?this.getPane().removeChild(this._canvas):t.getPanes().overlayPane.removeChild(this._canvas),t.off("click",this._executeListeners,this),t.off("mousemove",this._executeListeners,this),t.off("moveend",this._reset,this),t.off("resize",this._reset,this)},addTo:function(t){return t.addLayer(this),this},clearLayers:function(){this._latlngMarkers=null,this._markers=null,this._redraw(!0)},_addMarker:function(e,n,r){e._map=this._map,this._markers||(this._markers=new y.a),this._latlngMarkers||(this._latlngMarkers=new y.a,this._latlngMarkers.dirty=0,this._latlngMarkers.total=0),t.Util.stamp(e);var i=this._map.latLngToContainerPoint(n),a=e.options.icon.options.iconSize,o=a[0]/2,s=a[1]/2,h=[{minX:i.x-o,minY:i.y-s,maxX:i.x+o,maxY:i.y+s,data:e},{minX:n.lng,minY:n.lat,maxX:n.lng,maxY:n.lat,data:e}];return this._latlngMarkers.dirty++,this._latlngMarkers.total++,!0===r&&this._drawMarker(e,i),h},_drawMarker:function(t,e){var n=this;this._imageLookup||(this._imageLookup={}),e||(e=n._map.latLngToContainerPoint(t.getLatLng()));var r=t.options.icon.options.iconUrl;if(t.canvas_img)n._drawImage(t,e);else if(n._imageLookup[r])t.canvas_img=n._imageLookup[r][0],!1===n._imageLookup[r][1]?n._imageLookup[r][2].push([t,e]):n._drawImage(t,e);else{var i=new Image;i.src=r,t.canvas_img=i,n._imageLookup[r]=[i,!1,[[t,e]]],i.onload=function(){n._imageLookup[r][1]=!0,n._imageLookup[r][2].forEach((function(t){n._drawImage(t[0],t[1])}))}}},_drawImage:function(t,e){var n=t.options.icon.options;this._context.drawImage(t.canvas_img,e.x-n.iconAnchor[0],e.y-n.iconAnchor[1],n.iconSize[0],n.iconSize[1])},_reset:function(){var e=this._map.containerPointToLayerPoint([0,0]);t.DomUtil.setPosition(this._canvas,e);var n=this._map.getSize();this._canvas.width=n.x,this._canvas.height=n.y,this._redraw()},_redraw:function(t){var e=this;if(t&&this._context.clearRect(0,0,this._canvas.width,this._canvas.height),this._map&&this._latlngMarkers){var n=[];e._latlngMarkers.dirty/e._latlngMarkers.total>=.1&&(e._latlngMarkers.all().forEach((function(t){n.push(t)})),e._latlngMarkers.clear(),e._latlngMarkers.load(n),e._latlngMarkers.dirty=0,n=[]);var r=e._map.getBounds(),i={minX:r.getWest(),minY:r.getSouth(),maxX:r.getEast(),maxY:r.getNorth()};e._latlngMarkers.search(i).forEach((function(t){var r=e._map.latLngToContainerPoint(t.data.getLatLng()),i=t.data.options.icon.options.iconSize,a=i[0]/2,o=i[1]/2,s={minX:r.x-a,minY:r.y-o,maxX:r.x+a,maxY:r.y+o,data:t.data};n.push(s),e._drawMarker(t.data,r)})),this._markers.clear(),this._markers.load(n)}},_initCanvas:function(){this._canvas=t.DomUtil.create("canvas","leaflet-canvas-icon-layer leaflet-layer");var e=t.DomUtil.testProp(["transformOrigin","WebkitTransformOrigin","msTransformOrigin"]);this._canvas.style[e]="50% 50%";var n=this._map.getSize();this._canvas.width=n.x,this._canvas.height=n.y,this._context=this._canvas.getContext("2d");var r=this._map.options.zoomAnimation&&t.Browser.any3d;t.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(r?"animated":"hide"))},addOnClickListener:function(t){this._onClickListeners.push(t)},addOnHoverListener:function(t){this._onHoverListeners.push(t)},_executeListeners:function(t){if(this._markers){var e=this,n=t.containerPoint.x,r=t.containerPoint.y;e._openToolTip&&(e._openToolTip.closeTooltip(),delete e._openToolTip);var i=this._markers.search({minX:n,minY:r,maxX:n,maxY:r});if(i&&i.length>0){if(e._map._container.style.cursor="pointer","click"===t.type)i[0].data.getPopup()&&i[0].data.openPopup(),e._onClickListeners.forEach((function(e){e(t,i)}));if("mousemove"===t.type)i[0].data.getTooltip()&&(e._openToolTip=i[0].data,i[0].data.openTooltip()),e._onHoverListeners.forEach((function(e){e(t,i)}))}else e._map._container.style.cursor=""}}});t.canvasIconLayer=function(t){return new e(t)}},M=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function k(t,e){return Math.random()*(e-t)+t}x(u.a);var L=Object(l.icon)({iconUrl:"img/arrow2.png",iconSize:[20,18],iconAnchor:[10,9]}),w=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return M(e,t),e.prototype.createLeafletElement=function(t){for(var e=[],n=0;n<1e4;n++){var r=k(51.47293659014834,51.53704658542498),i=[k(-.16719818115234378,-.01270294189453125),r],a=Object(l.marker)(new l.LatLng(i[1],i[0]),{icon:L});e.push(a)}var o=u.a.canvasIconLayer({});return setTimeout((function(){o.addLayers(e)}),0),new l.LayerGroup([o],this.getOptions({}))},e}(f),X=Object(c.withLeaflet)(w);n.d(e,"TestComponent",(function(){return h})),n.d(e,"MarkerBoosterLayer",(function(){return v})),n.d(e,"MarkerCanvasLayer",(function(){return X}))},function(t,e){t.exports=n},function(t,e,n){t.exports=function(){"use strict";function t(t,r,i,a,o){!function t(n,r,i,a,o){for(;a>i;){if(a-i>600){var s=a-i+1,h=r-i+1,c=Math.log(s),l=.5*Math.exp(2*c/3),u=.5*Math.sqrt(c*l*(s-l)/s)*(h-s/2<0?-1:1);t(n,r,Math.max(i,Math.floor(r-h*l/s+u)),Math.min(a,Math.floor(r+(s-h)*l/s+u)),o)}var p=n[r],f=i,m=a;for(e(n,i,r),o(n[a],p)>0&&e(n,i,a);f<m;){for(e(n,f,m),f++,m--;o(n[f],p)<0;)f++;for(;o(n[m],p)>0;)m--}0===o(n[i],p)?e(n,i,m):e(n,++m,a),m<=r&&(i=m+1),r<=m&&(a=m-1)}}(t,r,i||0,a||t.length-1,o||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function i(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function a(t,e){o(t,0,t.children.length,e,t)}function o(t,e,n,r,i){i||(i=m(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var a=e;a<n;a++){var o=t.children[a];s(i,t.leaf?r(o):o)}return i}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function h(t,e){return t.minX-e.minX}function c(t,e){return t.minY-e.minY}function l(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function m(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(e,n,r,i,a){for(var o=[n,r];o.length;)if(!((r=o.pop())-(n=o.pop())<=i)){var s=n+Math.ceil((r-n)/i/2)*i;t(e,s,n,r,a),o.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var r=this.toBBox,i=[];e;){for(var a=0;a<e.children.length;a++){var o=e.children[a],s=e.leaf?r(o):o;f(t,s)&&(e.leaf?n.push(o):p(t,s)?this._all(o,n):i.push(o))}e=i.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var i=e.children[r],a=e.leaf?this.toBBox(i):i;if(f(t,a)){if(e.leaf||p(t,a))return!0;n.push(i)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=m([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,a,o=this.data,s=this.toBBox(t),h=[],c=[];o||h.length;){if(o||(o=h.pop(),r=h[h.length-1],n=c.pop(),a=!0),o.leaf){var l=i(t,o.children,e);if(-1!==l)return o.children.splice(l,1),h.push(o),this._condense(h),this}a||o.leaf||!p(o,s)?r?(n++,o=r.children[n],a=!1):o=null:(h.push(o),c.push(n),n=0,r=o,o=o.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var i,o=n-e+1,s=this._maxEntries;if(o<=s)return a(i=m(t.slice(e,n+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,r-1))),(i=m([])).leaf=!1,i.height=r;var h=Math.ceil(o/s),c=h*Math.ceil(Math.sqrt(s));d(t,e,n,c,this.compareMinX);for(var l=e;l<=n;l+=c){var u=Math.min(l+c-1,n);d(t,l,u,h,this.compareMinY);for(var p=l;p<=u;p+=h){var f=Math.min(p+h-1,u);i.children.push(this._build(t,p,f,r-1))}}return a(i,this.toBBox),i},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var i=1/0,a=1/0,o=void 0,s=0;s<e.children.length;s++){var h=e.children[s],c=l(h),u=(p=t,f=h,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-c);u<a?(a=u,i=c<i?c:i,o=h):u===a&&c<i&&(i=c,o=h)}e=o||e.children[0]}var p,f;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),i=[],a=this._chooseSubtree(r,this.data,e,i);for(a.children.push(t),s(a,r);e>=0&&i[e].children.length>this._maxEntries;)this._split(i,e),e--;this._adjustParentBBoxes(r,i,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,i=this._minEntries;this._chooseSplitAxis(n,i,r);var o=this._chooseSplitIndex(n,i,r),s=m(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,a(n,this.toBBox),a(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=m([t,e]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,i,a,s,h,c,u,p=1/0,f=1/0,m=e;m<=n-e;m++){var d=o(t,0,m,this.toBBox),_=o(t,m,n,this.toBBox),v=(i=d,a=_,s=Math.max(i.minX,a.minX),h=Math.max(i.minY,a.minY),c=Math.min(i.maxX,a.maxX),u=Math.min(i.maxY,a.maxY),Math.max(0,c-s)*Math.max(0,u-h)),g=l(d)+l(_);v<p?(p=v,r=m,f=g<f?g:f):v===p&&g<f&&(f=g,r=m)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:h,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,i)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var i=this.toBBox,a=o(t,0,e,i),h=o(t,n-e,n,i),c=u(a)+u(h),l=e;l<n-e;l++){var p=t.children[l];s(a,t.leaf?i(p):p),c+=u(a)}for(var f=n-e-1;f>=e;f--){var m=t.children[f];s(h,t.leaf?i(m):m),c+=u(h)}return c},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():a(t[e],this.toBBox)},r}()}])}));
//# sourceMappingURL=bundle.js.map