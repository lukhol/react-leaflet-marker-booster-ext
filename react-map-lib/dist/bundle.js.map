{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external {\"amd\":\"leaflet\",\"commonjs\":\"leaflet\",\"commonjs2\":\"leaflet\",\"root\":\"L\"}","webpack:///external {\"amd\":\"react-leaflet\",\"commonjs\":\"react-leaflet\",\"commonjs2\":\"react-leaflet\"}","webpack:///./src/leaflet-marker-booster.js","webpack:///./src/components/TestComponent.tsx","webpack:///./src/components/BaseLayer.tsx","webpack:///./src/components/MarkerBoosterLayer.tsx","webpack:///./src/leaflet-canvas-marker.js","webpack:///./src/components/MarkerCanvasLayer.tsx","webpack:///./src/index.ts","webpack:///external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}","webpack:///./node_modules/rbush/rbush.min.js"],"names":["root","factory","exports","module","require","define","amd","a","undefined","i","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","proto","prev","render","FastArrowMarker","CircleMarker","extend","options","radius","color","boostScale","boostExp","rotateRad","biDirection","rotated","initialize","latlng","setOptions","this","_latlng","_radius","fastArrowMarker","Canvas","_updateCircle","layer","_drawing","_empty","_point","ctx","_ctx","Math","max","round","_radiusY","scale","pow","_map","getZoom","PI","stroke","weight","save","pointX","x","pointY","y","fontSize","translate","rotate","font","fontWeight","fillColor","arrowTxt","fillText","restore","beginPath","fillStyle","fill","fillRule","createLeafletElement","props","getOptions","min","random","geojson","type","features","lat","feature","geometry","coordinates","properties","push","pointToLayer","bindPopup","L","CanvasIconLayer","Layer","Class","_onClickListeners","_onHoverListeners","redraw","_redraw","addMarkers","markers","self","tmpMark","tmpLatLng","forEach","marker","pane","icon","getLatLng","isDisplaying","getBounds","contains","_addMarker","console","error","_markers","load","_latlngMarkers","addMarker","dat","insert","addLayer","addLayers","layers","removeLayer","removeMarker","data","markerData","minX","lng","minY","maxX","maxY","remove","b","_leaflet_id","total","dirty","onAdd","map","_canvas","_initCanvas","getPane","appendChild","_panes","overlayPane","on","_reset","_executeListeners","onRemove","removeChild","getPanes","off","addTo","clearLayers","Util","stamp","pointPos","latLngToContainerPoint","iconSize","adj_x","adj_y","ret","_drawMarker","_imageLookup","iconUrl","canvas_img","_drawImage","Image","src","onload","e","_context","drawImage","iconAnchor","topLeft","containerPointToLayerPoint","DomUtil","setPosition","size","getSize","width","height","clear","clearRect","tmp","all","mapBounds","mapBoxCoords","getWest","getSouth","getEast","getNorth","search","newCoords","originProp","testProp","style","getContext","animated","zoomAnimation","Browser","any3d","addClass","addOnClickListener","listener","addOnHoverListener","event","me","containerPoint","_openToolTip","closeTooltip","length","_container","cursor","getPopup","openPopup","getTooltip","openTooltip","canvasIconLayer","myIcon","mrk","ciLayer","setTimeout","h","log","f","exp","u","sqrt","floor","_maxEntries","_minEntries","ceil","indexOf","children","leaf","pop","_all","toBBox","collides","_build","slice","_splitRoot","_insert","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","v","M","_allDistMargin","sort"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"leaflet\"), require(\"react-leaflet\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"leaflet\", \"react-leaflet\", \"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"leaflet\"), require(\"react-leaflet\"), require(\"react\")) : factory(root[\"L\"], root[undefined], root[\"React\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import L, {latLng} from 'leaflet';\r\n\r\nL.FastArrowMarker = L.CircleMarker.extend({\r\n    options: {\r\n        radius: 10,\r\n        color: '#f00',\r\n        boostScale: 1,\r\n        boostExp: 0.125,\r\n        rotateRad: 0,\r\n        biDirection: false,\r\n        rotated: false\r\n\t},\r\n    initialize: function (latlng, options) {\r\n\t\tL.setOptions(this, options);\r\n\t\tthis._latlng = latLng(latlng);\r\n\t\tthis._radius = this.options.radius;\r\n\t},\r\n});\r\n\r\nL.fastArrowMarker = function(latlng, options) {\r\n    return new L.FastArrowMarker(latlng, options);\r\n};\r\n\r\n// override Leaflet implementation for fast arrow rendering\r\n(function () {\r\n\t'use strict';\r\n\r\n\tvar proto = L.Canvas.prototype;\r\n\tvar prev = proto._updateCircle;\r\n\r\n\tproto._updateCircle = function (layer) {\r\n\t\tif (!(layer instanceof L.FastArrowMarker))\r\n\t\t\treturn prev.call(this, layer);\r\n\r\n\t\tif (!this._drawing || layer._empty()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar p = layer._point,\r\n\t\t    ctx = this._ctx,\r\n\t\t    r = Math.max(Math.round(layer._radius), 1),\r\n\t\t    s = (Math.max(Math.round(layer._radiusY), 1) || r) / r;\r\n\t\t\r\n\t\tvar options = layer.options;\r\n\r\n\t\tvar scale = Math.pow(2, this._map.getZoom()) * 256 / Math.PI / 6378137;\r\n\t\tscale = Math.pow(scale, options.boostExp) * options.boostScale;\r\n\t\tr = r * scale;\r\n\r\n\t\tif(options.stroke && options.weight !== 0) {\r\n            r = r + options.weight * 0.5 * scale;\r\n        }\r\n        \r\n        ctx.save();                \r\n        const pointX = p.x;\r\n        const pointY = p.y;\r\n\r\n        const startFontSize = 20;\r\n        const fontSize = startFontSize * scale;\r\n\r\n        ctx.translate(pointX, pointY)\r\n        ctx.rotate(options.rotateRad);\r\n        ctx.translate(-pointX, -pointY);\r\n\r\n        ctx.font = fontSize + \"px Arial\";\r\n        ctx.fontWeight = \"900\"\r\n        ctx.fillColor = options.color;\r\n        let arrowTxt = options.biDirection ? \"↕\" : \"↑\";\r\n        if(options.rotated) {\r\n            arrowTxt = \"↓\";\r\n        }\r\n        ctx.fillText(arrowTxt, p.x-(fontSize/2) + 5*scale, p.y+(fontSize/4) - 1*scale);\r\n    \r\n        ctx.restore();\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = options.color;\r\n        ctx.fill(options.fillRule || 'evenodd');\r\n\t};\r\n})();","import * as React from 'react'\r\n\r\nexport default class TestComponent extends React.Component {\r\n    \r\n    render() {\r\n        return (\r\n            <div>Testcomponent2555522</div>\r\n        )\r\n    }\r\n}","import * as React from 'react';\r\nimport { MapLayer, withLeaflet } from 'react-leaflet';\r\nimport { LayerGroup as LeafletLayerGroup, circle, geoJSON, marker, circleMarker, divIcon, latLng } from 'leaflet';\r\nimport '../leaflet-marker-booster';\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nclass BaseLayer extends MapLayer<any, any> {\r\n    createLeafletElement(props: any){ \r\n        return new LeafletLayerGroup([], super.getOptions(props));\r\n    }\r\n}\r\n\r\nexport default BaseLayer;","import * as React from 'react';\r\nimport { MapLayer, withLeaflet } from 'react-leaflet';\r\nimport L, { LayerGroup as LeafletLayerGroup, circle, geoJSON, marker, circleMarker, divIcon, latLng } from 'leaflet';\r\nimport '../leaflet-marker-booster';\r\nimport BaseLayer from './BaseLayer';\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\n// const feature = {\r\n//     type: 'Feature',\r\n//     geometry: {\r\n//         type: 'Point',\r\n//         coordinates: [-0.09, 51.514]\r\n//     },\r\n//     properties: {}\r\n// };\r\n// geojson.features.push(feature);\r\n\r\nclass MarkerBoosterLayer extends BaseLayer { \r\n    createLeafletElement(props: any){ \r\n        const geojson = {\r\n            type: \"FeatureCollection\", \r\n            features: []\r\n        } as any;\r\n\r\n        const minLat = 51.47293659014834, maxLat = 51.53704658542498;\r\n        const minLng = -0.16719818115234378, maxLng = -0.01270294189453125;\r\n\r\n        for(let i = 0; i < 10_000 ; i++) {\r\n            const lat = getRandomArbitrary(minLat, maxLat);\r\n            const lng = getRandomArbitrary(minLng, maxLng);\r\n            const coordinates = [lng, lat];\r\n            const feature = {\r\n                type: 'Feature',\r\n                geometry: {\r\n                    type: 'Point',\r\n                    coordinates\r\n                },\r\n                properties: {}\r\n            };\r\n\r\n            geojson.features.push(feature);\r\n        }\r\n\r\n        const boostType = 'arrow';\r\n        const boostScale = 2;\r\n        const boostExp = 0.125;\r\n        \r\n        return new LeafletLayerGroup([geoJSON(geojson, {\r\n            pointToLayer: (feature, latlng) => {\r\n                // @ts-ignore\r\n                return L.fastArrowMarker(latlng, {\r\n                    // @ts-ignore\r\n                    boostScale: boostScale,\r\n                    boostExp: boostExp,\r\n                    color: '#f00',\r\n                    rotateRad: getRandomArbitrary(0, 3.14),\r\n                    biDirection: getRandomArbitrary(0,10) > 5,\r\n                    rotated: true\r\n                }).bindPopup(\"<div>Hello</div>\");\r\n            }\r\n        })], super.getOptions(props));\r\n    }\r\n}\r\n\r\nexport default withLeaflet(MarkerBoosterLayer);","'use strict';\r\nimport rbush from 'rbush';\r\n\r\nfunction layerFactory(L) {\r\n\r\n    var CanvasIconLayer = (L.Layer ? L.Layer : L.Class).extend({\r\n\r\n        //Add event listeners to initialized section.\r\n        initialize: function (options) {\r\n\r\n            L.setOptions(this, options);\r\n            this._onClickListeners = [];\r\n            this._onHoverListeners = [];\r\n        },\r\n\r\n        setOptions: function (options) {\r\n\r\n            L.setOptions(this, options);\r\n            return this.redraw();\r\n        },\r\n\r\n        redraw: function () {\r\n\r\n            this._redraw(true);\r\n        },\r\n\r\n        //Multiple layers at a time for rBush performance\r\n        addMarkers: function (markers) {\r\n\r\n            var self = this;\r\n            var tmpMark = [];\r\n            var tmpLatLng = [];\r\n\r\n            markers.forEach(function (marker) {\r\n\r\n                if (!((marker.options.pane == 'markerPane') && marker.options.icon))\r\n                {\r\n                    console.error('Layer isn\\'t a marker');\r\n                    return;\r\n                }\r\n\r\n                var latlng = marker.getLatLng();\r\n                var isDisplaying = self._map.getBounds().contains(latlng);\r\n                var s = self._addMarker(marker,latlng,isDisplaying);\r\n\r\n                //Only add to Point Lookup if we are on map\r\n                if (isDisplaying ===true) tmpMark.push(s[0]);\r\n\r\n                tmpLatLng.push(s[1]);\r\n            });\r\n\r\n            self._markers.load(tmpMark);\r\n            self._latlngMarkers.load(tmpLatLng);\r\n        },\r\n\r\n        //Adds single layer at a time. Less efficient for rBush\r\n        addMarker: function (marker) {\r\n\r\n            var self = this;\r\n            var latlng = marker.getLatLng();\r\n            var isDisplaying = self._map.getBounds().contains(latlng);\r\n            var dat = self._addMarker(marker,latlng,isDisplaying);\r\n\r\n            //Only add to Point Lookup if we are on map\r\n            if(isDisplaying ===true) self._markers.insert(dat[0]);\r\n\r\n            self._latlngMarkers.insert(dat[1]);\r\n        },\r\n\r\n        addLayer: function (layer) {\r\n\r\n            if ((layer.options.pane == 'markerPane') && layer.options.icon) this.addMarker(layer);\r\n            else console.error('Layer isn\\'t a marker');\r\n        },\r\n\r\n        addLayers: function (layers) {\r\n\r\n            this.addMarkers(layers);\r\n        },\r\n\r\n        removeLayer: function (layer) {\r\n\r\n            this.removeMarker(layer,true);\r\n        },\r\n\r\n        removeMarker: function (marker,redraw) {\r\n\r\n            var self = this;\r\n\r\n            //If we are removed point\r\n            if(marker[\"minX\"]) marker = marker.data;\r\n\r\n            var latlng = marker.getLatLng();\r\n            var isDisplaying = self._map.getBounds().contains(latlng);\r\n\r\n            var markerData = {\r\n\r\n                minX: latlng.lng,\r\n                minY: latlng.lat,\r\n                maxX: latlng.lng,\r\n                maxY: latlng.lat,\r\n                data: marker\r\n            };\r\n\r\n            self._latlngMarkers.remove(markerData, function (a,b) {\r\n\r\n                return a.data._leaflet_id ===b.data._leaflet_id;\r\n            });\r\n\r\n            self._latlngMarkers.total--;\r\n            self._latlngMarkers.dirty++;\r\n\r\n            if(isDisplaying ===true && redraw ===true) {\r\n\r\n                self._redraw(true);\r\n            }\r\n        },\r\n\r\n        onAdd: function (map) {\r\n\r\n            this._map = map;\r\n\r\n            if (!this._canvas) this._initCanvas();\r\n\r\n            if (this.options.pane) this.getPane().appendChild(this._canvas);\r\n            else map._panes.overlayPane.appendChild(this._canvas);\r\n\r\n            map.on('moveend', this._reset, this);\r\n            map.on('resize',this._reset,this);\r\n\r\n            map.on('click', this._executeListeners, this);\r\n            map.on('mousemove', this._executeListeners, this);\r\n        },\r\n\r\n        onRemove: function (map) {\r\n\r\n            if (this.options.pane) this.getPane().removeChild(this._canvas);\r\n            else map.getPanes().overlayPane.removeChild(this._canvas);\r\n\r\n            map.off('click', this._executeListeners, this);\r\n            map.off('mousemove', this._executeListeners, this);\r\n\r\n            map.off('moveend', this._reset, this);\r\n            map.off('resize',this._reset,this);\r\n        },\r\n\r\n        addTo: function (map) {\r\n\r\n            map.addLayer(this);\r\n            return this;\r\n        },\r\n\r\n        clearLayers: function() {\r\n\r\n            this._latlngMarkers = null;\r\n            this._markers = null;\r\n            this._redraw(true);\r\n        },\r\n\r\n        _addMarker: function(marker,latlng,isDisplaying) {\r\n\r\n            var self = this;\r\n            //Needed for pop-up & tooltip to work.\r\n            marker._map = self._map;\r\n\r\n            //_markers contains Points of markers currently displaying on map\r\n            if (!self._markers) self._markers = new rbush();\r\n\r\n            //_latlngMarkers contains Lat\\Long coordinates of all markers in layer.\r\n            if (!self._latlngMarkers) {\r\n                self._latlngMarkers = new rbush();\r\n                self._latlngMarkers.dirty=0;\r\n                self._latlngMarkers.total=0;\r\n            }\r\n\r\n            L.Util.stamp(marker);\r\n\r\n            var pointPos = self._map.latLngToContainerPoint(latlng);\r\n            var iconSize = marker.options.icon.options.iconSize;\r\n\r\n            var adj_x = iconSize[0]/2;\r\n            var adj_y = iconSize[1]/2;\r\n            var ret = [({\r\n                minX: (pointPos.x - adj_x),\r\n                minY: (pointPos.y - adj_y),\r\n                maxX: (pointPos.x + adj_x),\r\n                maxY: (pointPos.y + adj_y),\r\n                data: marker\r\n            }),({\r\n                minX: latlng.lng,\r\n                minY: latlng.lat,\r\n                maxX: latlng.lng,\r\n                maxY: latlng.lat,\r\n                data: marker\r\n            })];\r\n\r\n            self._latlngMarkers.dirty++;\r\n            self._latlngMarkers.total++;\r\n\r\n            //Only draw if we are on map\r\n            if(isDisplaying===true) self._drawMarker(marker, pointPos);\r\n\r\n            return ret;\r\n        },\r\n\r\n        _drawMarker: function (marker, pointPos) {\r\n\r\n            var self = this;\r\n\r\n            if (!this._imageLookup) this._imageLookup = {};\r\n            if (!pointPos) {\r\n\r\n                pointPos = self._map.latLngToContainerPoint(marker.getLatLng());\r\n            }\r\n\r\n            var iconUrl = marker.options.icon.options.iconUrl;\r\n\r\n            if (marker.canvas_img) {\r\n\r\n                self._drawImage(marker, pointPos);\r\n            }\r\n            else {\r\n\r\n                if(self._imageLookup[iconUrl]) {\r\n\r\n                    marker.canvas_img = self._imageLookup[iconUrl][0];\r\n\r\n                    if (self._imageLookup[iconUrl][1] ===false) {\r\n\r\n                        self._imageLookup[iconUrl][2].push([marker,pointPos]);\r\n                    }\r\n                    else {\r\n\r\n                        self._drawImage(marker,pointPos);\r\n                    }\r\n                }\r\n                else {\r\n\r\n                    var i = new Image();\r\n                    i.src = iconUrl;\r\n                    marker.canvas_img = i;\r\n\r\n                    //Image,isLoaded,marker\\pointPos ref\r\n                    self._imageLookup[iconUrl] = [i, false, [[marker, pointPos]]];\r\n\r\n                    i.onload = function() {\r\n\r\n                        self._imageLookup[iconUrl][1] = true;\r\n                        self._imageLookup[iconUrl][2].forEach(function (e) {\r\n\r\n                            self._drawImage(e[0],e[1]);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _drawImage: function (marker, pointPos) {\r\n\r\n            var options = marker.options.icon.options;\r\n\r\n            this._context.drawImage(\r\n                marker.canvas_img,\r\n                pointPos.x - options.iconAnchor[0],\r\n                pointPos.y - options.iconAnchor[1],\r\n                options.iconSize[0],\r\n                options.iconSize[1]\r\n            );\r\n        },\r\n\r\n        _reset: function () {\r\n\r\n            var topLeft = this._map.containerPointToLayerPoint([0, 0]);\r\n            L.DomUtil.setPosition(this._canvas, topLeft);\r\n\r\n            var size = this._map.getSize();\r\n\r\n            this._canvas.width = size.x;\r\n            this._canvas.height = size.y;\r\n\r\n            this._redraw();\r\n        },\r\n\r\n        _redraw: function (clear) {\r\n\r\n            var self = this;\r\n\r\n            if (clear) this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n            if (!this._map || !this._latlngMarkers) return;\r\n\r\n            var tmp = [];\r\n\r\n            //If we are 10% individual inserts\\removals, reconstruct lookup for efficiency\r\n            if (self._latlngMarkers.dirty/self._latlngMarkers.total >= .1) {\r\n\r\n                self._latlngMarkers.all().forEach(function(e) {\r\n\r\n                    tmp.push(e);\r\n                });\r\n\r\n                self._latlngMarkers.clear();\r\n                self._latlngMarkers.load(tmp);\r\n                self._latlngMarkers.dirty=0;\r\n                tmp = [];\r\n            }\r\n\r\n            var mapBounds = self._map.getBounds();\r\n\r\n            //Only re-draw what we are showing on the map.\r\n\r\n            var mapBoxCoords = {\r\n\r\n                minX: mapBounds.getWest(),\r\n                minY: mapBounds.getSouth(),\r\n                maxX: mapBounds.getEast(),\r\n                maxY: mapBounds.getNorth(),\r\n            };\r\n\r\n            self._latlngMarkers.search(mapBoxCoords).forEach(function (e) {\r\n\r\n                //Readjust Point Map\r\n                var pointPos = self._map.latLngToContainerPoint(e.data.getLatLng());\r\n\r\n                var iconSize = e.data.options.icon.options.iconSize;\r\n                var adj_x = iconSize[0]/2;\r\n                var adj_y = iconSize[1]/2;\r\n\r\n                var newCoords = {\r\n                    minX: (pointPos.x - adj_x),\r\n                    minY: (pointPos.y - adj_y),\r\n                    maxX: (pointPos.x + adj_x),\r\n                    maxY: (pointPos.y + adj_y),\r\n                    data: e.data\r\n                }\r\n\r\n                tmp.push(newCoords);\r\n\r\n                //Redraw points\r\n                self._drawMarker(e.data, pointPos);\r\n            });\r\n\r\n            //Clear rBush & Bulk Load for performance\r\n            this._markers.clear();\r\n            this._markers.load(tmp);\r\n        },\r\n\r\n        _initCanvas: function () {\r\n\r\n            this._canvas = L.DomUtil.create('canvas', 'leaflet-canvas-icon-layer leaflet-layer');\r\n            var originProp = L.DomUtil.testProp(['transformOrigin', 'WebkitTransformOrigin', 'msTransformOrigin']);\r\n            this._canvas.style[originProp] = '50% 50%';\r\n\r\n            var size = this._map.getSize();\r\n            this._canvas.width = size.x;\r\n            this._canvas.height = size.y;\r\n\r\n            this._context = this._canvas.getContext('2d');\r\n\r\n            var animated = this._map.options.zoomAnimation && L.Browser.any3d;\r\n            L.DomUtil.addClass(this._canvas, 'leaflet-zoom-' + (animated ? 'animated' : 'hide'));\r\n        },\r\n\r\n        addOnClickListener: function (listener) {\r\n            this._onClickListeners.push(listener);\r\n        },\r\n\r\n        addOnHoverListener: function (listener) {\r\n            this._onHoverListeners.push(listener);\r\n        },\r\n\r\n        _executeListeners: function (event) {\r\n\r\n            if (!this._markers) return;\r\n\r\n            var me = this;\r\n            var x = event.containerPoint.x;\r\n            var y = event.containerPoint.y;\r\n\r\n            if(me._openToolTip) {\r\n\r\n                me._openToolTip.closeTooltip();\r\n                delete me._openToolTip;\r\n            }\r\n\r\n            var ret = this._markers.search({ minX: x, minY: y, maxX: x, maxY: y });\r\n\r\n            if (ret && ret.length > 0) {\r\n\r\n                me._map._container.style.cursor=\"pointer\";\r\n\r\n                if (event.type===\"click\") {\r\n\r\n                    var hasPopup = ret[0].data.getPopup();\r\n                    if(hasPopup) ret[0].data.openPopup();\r\n\r\n                    me._onClickListeners.forEach(function (listener) { listener(event, ret); });\r\n                }\r\n\r\n                if (event.type===\"mousemove\") {\r\n                    var hasTooltip = ret[0].data.getTooltip();\r\n                    if(hasTooltip) {\r\n                        me._openToolTip = ret[0].data;\r\n                        ret[0].data.openTooltip();\r\n                    }\r\n\r\n                    me._onHoverListeners.forEach(function (listener) { listener(event, ret); });\r\n                }\r\n            }\r\n            else {\r\n\r\n                me._map._container.style.cursor=\"\";\r\n            }\r\n        }\r\n    });\r\n\r\n    L.canvasIconLayer = function (options) {\r\n        return new CanvasIconLayer(options);\r\n    };\r\n};\r\n\r\nexport default layerFactory;","import * as React from 'react';\r\nimport { MapLayer, withLeaflet } from 'react-leaflet';\r\nimport L, { LayerGroup as LeafletLayerGroup, icon, circle, geoJSON, marker, circleMarker, divIcon, latLng, LatLng } from 'leaflet';\r\nimport '../leaflet-marker-booster';\r\nimport BaseLayer from './BaseLayer';\r\n\r\n// @ts-ignore\r\nimport layerFactory from \"../leaflet-canvas-marker\";\r\nlayerFactory(L);\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nvar myIcon = icon({\r\n    iconUrl: 'img/arrow2.png',\r\n    iconSize: [20, 18],\r\n    iconAnchor: [10, 9],\r\n});\r\n\r\nclass MarkerCanvasLayer extends BaseLayer { \r\n    createLeafletElement(props: any){ \r\n        const minLat = 51.47293659014834, maxLat = 51.53704658542498;\r\n        const minLng = -0.16719818115234378, maxLng = -0.01270294189453125;\r\n\r\n        const markers: any[] = [];\r\n        for(let i = 0; i < 10_000 ; i++) {\r\n            const lat = getRandomArbitrary(minLat, maxLat);\r\n            const lng = getRandomArbitrary(minLng, maxLng);\r\n            const coordinates = [lng, lat];\r\n            \r\n            const mrk = marker(new LatLng(coordinates[1], coordinates[0]), {\r\n                icon: myIcon\r\n            });\r\n            markers.push(mrk);\r\n        }\r\n\r\n        //@ts-ignore\r\n        var ciLayer = L.canvasIconLayer({});\r\n        setTimeout(() => {\r\n            ciLayer.addLayers(markers);\r\n        }, 0);\r\n\r\n        return new LeafletLayerGroup([ciLayer], this.getOptions({}));\r\n    }\r\n}\r\n\r\nexport default withLeaflet(MarkerCanvasLayer);","export { default as TestComponent } from './components/TestComponent';\r\nexport { default as MarkerBoosterLayer } from './components/MarkerBoosterLayer';\r\nexport { default as MarkerCanvasLayer } from './components/MarkerCanvasLayer';","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n"],"sourceRoot":""}