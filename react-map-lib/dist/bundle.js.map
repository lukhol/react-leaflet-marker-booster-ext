{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external {\"amd\":\"leaflet\",\"commonjs\":\"leaflet\",\"commonjs2\":\"leaflet\",\"root\":\"L\"}","webpack:///external {\"amd\":\"react-leaflet\",\"commonjs\":\"react-leaflet\",\"commonjs2\":\"react-leaflet\"}","webpack:///./src/components/TestComponent.tsx","webpack:///./src/leaflet-marker-booster.js","webpack:///./src/components/BaseLayer.tsx","webpack:///./src/components/MarkerBoosterLayer.tsx","webpack:///./src/leaflet-canvas-marker.js","webpack:///./src/components/MarkerCanvasLayer.tsx","webpack:///./src/index.ts","webpack:///external {\"amd\":\"react\",\"commonjs\":\"react\",\"commonjs2\":\"react\",\"root\":\"React\"}","webpack:///./node_modules/rbush/rbush.min.js"],"names":["root","factory","exports","module","require","define","amd","a","undefined","i","window","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__3__","installedModules","__webpack_require__","moduleId","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","render","FastArrowMarkerRenderer","Canvas","extend","_updateCircle","layer","this","_drawing","_empty","_point","ctx","_ctx","Math","max","round","_radius","options","_radiusY","scale","pow","_map","getZoom","PI","boostExp","boostScale","stroke","weight","save","pointX","x","pointY","y","fontSize","translate","rotate","rotateRad","font","fontWeight","fillColor","color","arrowTxt","biDirection","rotated","fillText","restore","beginPath","fillStyle","fill","fillRule","fastArrowMarkerRenderer","FastArrowMarker","CircleMarker","radius","renderer","initialize","latlng","setOptions","_latlng","fastArrowMarker","createLeafletElement","props","getOptions","min","random","geojson","type","features","lat","feature","geometry","coordinates","properties","push","pointToLayer","bindPopup","L","CanvasIconLayer","Layer","Class","_onClickListeners","_onHoverListeners","redraw","_redraw","addMarkers","markers","self","tmpMark","tmpLatLng","forEach","marker","pane","icon","getLatLng","isDisplaying","getBounds","contains","_addMarker","console","error","_markers","load","_latlngMarkers","addMarker","dat","insert","addLayer","addLayers","layers","removeLayer","removeMarker","data","markerData","minX","lng","minY","maxX","maxY","remove","b","_leaflet_id","total","dirty","onAdd","map","_canvas","_initCanvas","getPane","appendChild","_panes","overlayPane","on","_reset","_executeListeners","onRemove","removeChild","getPanes","off","addTo","clearLayers","Util","stamp","pointPos","latLngToContainerPoint","iconSize","adj_x","adj_y","ret","_drawMarker","_imageLookup","iconUrl","canvas_img","_drawImage","Image","src","onload","e","_context","drawImage","iconAnchor","topLeft","containerPointToLayerPoint","DomUtil","setPosition","size","getSize","width","height","clear","clearRect","tmp","all","mapBounds","mapBoxCoords","getWest","getSouth","getEast","getNorth","search","newCoords","originProp","testProp","style","getContext","animated","zoomAnimation","Browser","any3d","addClass","addOnClickListener","listener","addOnHoverListener","event","me","containerPoint","_openToolTip","closeTooltip","length","_container","cursor","getPopup","openPopup","getTooltip","openTooltip","canvasIconLayer","myIcon","mrk","ciLayer","setTimeout","h","log","f","exp","u","sqrt","floor","_maxEntries","_minEntries","ceil","indexOf","children","leaf","pop","_all","toBBox","collides","_build","slice","_splitRoot","_insert","splice","_condense","compareMinX","compareMinY","toJSON","fromJSON","apply","_chooseSubtree","_split","_adjustParentBBoxes","_chooseSplitAxis","_chooseSplitIndex","v","M","_allDistMargin","sort"],"mappings":"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","file":"bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"leaflet\"), require(\"react-leaflet\"), require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"leaflet\", \"react-leaflet\", \"react\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"leaflet\"), require(\"react-leaflet\"), require(\"react\")) : factory(root[\"L\"], root[undefined], root[\"React\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__3__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import * as React from 'react'\r\n\r\nexport default class TestComponent extends React.Component {\r\n    \r\n    render() {\r\n        return (\r\n            <div>Testcomponent2555522</div>\r\n        )\r\n    }\r\n}","import L, {latLng} from 'leaflet';\r\n\r\nL.FastArrowMarkerRenderer = L.Canvas.extend({\r\n    _updateCircle: function (layer) {\r\n\t\tif (!this._drawing || layer._empty()) {\r\n\t\t\treturn;\r\n        }\r\n        \r\n\t\tvar p = layer._point,\r\n\t\t    ctx = this._ctx,\r\n\t\t    r = Math.max(Math.round(layer._radius), 1),\r\n\t\t    s = (Math.max(Math.round(layer._radiusY), 1) || r) / r;\r\n\t\t\r\n\t\tvar options = layer.options;\r\n\r\n\t\tvar scale = Math.pow(2, this._map.getZoom()) * 256 / Math.PI / 6378137;\r\n\t\tscale = Math.pow(scale, options.boostExp) * options.boostScale;\r\n\t\tr = r * scale;\r\n\r\n\t\tif(options.stroke && options.weight !== 0) {\r\n            r = r + options.weight * 0.5 * scale;\r\n        }\r\n        \r\n        ctx.save();                \r\n        const pointX = p.x;\r\n        const pointY = p.y;\r\n\r\n        const startFontSize = 20;\r\n        const fontSize = startFontSize * scale;\r\n\r\n        ctx.translate(pointX, pointY)\r\n        ctx.rotate(options.rotateRad);\r\n        ctx.translate(-pointX, -pointY);\r\n\r\n        ctx.font = fontSize + \"px Arial\";\r\n        ctx.fontWeight = \"900\"\r\n        ctx.fillColor = options.color;\r\n        let arrowTxt = options.biDirection ? \"↕\" : \"↑\";\r\n        if(options.rotated) {\r\n            arrowTxt = \"↓\";\r\n        }\r\n        ctx.fillText(arrowTxt, p.x-(fontSize/2) + 5*scale, p.y+(fontSize/4) - 1*scale);\r\n    \r\n        ctx.restore();\r\n\r\n        ctx.beginPath();\r\n        ctx.fillStyle = options.color;\r\n        ctx.fill(options.fillRule || 'evenodd');\r\n\t}\r\n});\r\n\r\nL.fastArrowMarkerRenderer = function() {\r\n    return new L.FastArrowMarkerRenderer();\r\n}\r\n\r\nL.FastArrowMarker = L.CircleMarker.extend({\r\n    options: {\r\n        radius: 10,\r\n        color: '#f00',\r\n        boostScale: 1,\r\n        boostExp: 0.125,\r\n        rotateRad: 0,\r\n        biDirection: false,\r\n        rotated: false,\r\n        renderer: L.fastArrowMarkerRenderer()\r\n\t},\r\n    initialize: function (latlng, options) {\r\n\t\tL.setOptions(this, options);\r\n\t\tthis._latlng = latLng(latlng);\r\n\t\tthis._radius = this.options.radius;\r\n\t},\r\n});\r\n\r\nL.fastArrowMarker = function(latlng, options) {\r\n    return new L.FastArrowMarker(latlng, options);\r\n};","import * as React from 'react';\r\nimport { MapLayer, withLeaflet } from 'react-leaflet';\r\nimport { LayerGroup as LeafletLayerGroup, circle, geoJSON, marker, circleMarker, divIcon, latLng } from 'leaflet';\r\nimport '../leaflet-marker-booster';\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nclass BaseLayer extends MapLayer<any, any> {\r\n    createLeafletElement(props: any){ \r\n        return new LeafletLayerGroup([], super.getOptions(props));\r\n    }\r\n}\r\n\r\nexport default BaseLayer;","import * as React from 'react';\r\nimport { MapLayer, withLeaflet } from 'react-leaflet';\r\nimport L, { LayerGroup as LeafletLayerGroup, circle, geoJSON, marker, circleMarker, divIcon, latLng } from 'leaflet';\r\nimport '../leaflet-marker-booster';\r\nimport BaseLayer from './BaseLayer';\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\n// const feature = {\r\n//     type: 'Feature',\r\n//     geometry: {\r\n//         type: 'Point',\r\n//         coordinates: [-0.09, 51.514]\r\n//     },\r\n//     properties: {}\r\n// };\r\n// geojson.features.push(feature);\r\n\r\nclass MarkerBoosterLayer extends BaseLayer { \r\n    createLeafletElement(props: any){ \r\n        const geojson = {\r\n            type: \"FeatureCollection\", \r\n            features: []\r\n        } as any;\r\n\r\n        const minLat = 51.47293659014834, maxLat = 51.53704658542498;\r\n        const minLng = -0.16719818115234378, maxLng = -0.01270294189453125;\r\n\r\n        for(let i = 0; i < 10_000 ; i++) {\r\n            const lat = getRandomArbitrary(minLat, maxLat);\r\n            const lng = getRandomArbitrary(minLng, maxLng);\r\n            const coordinates = [lng, lat];\r\n            const feature = {\r\n                type: 'Feature',\r\n                geometry: {\r\n                    type: 'Point',\r\n                    coordinates\r\n                },\r\n                properties: {}\r\n            };\r\n\r\n            geojson.features.push(feature);\r\n        }\r\n\r\n        const boostType = 'arrow';\r\n        const boostScale = 2;\r\n        const boostExp = 0.125;\r\n        \r\n        return new LeafletLayerGroup([geoJSON(geojson, {\r\n            pointToLayer: (feature, latlng) => {\r\n                // @ts-ignore\r\n                return L.fastArrowMarker(latlng, {\r\n                    // @ts-ignore\r\n                    boostScale: boostScale,\r\n                    boostExp: boostExp,\r\n                    color: '#f00',\r\n                    rotateRad: getRandomArbitrary(0, 3.14),\r\n                    biDirection: getRandomArbitrary(0,10) > 5,\r\n                    rotated: true\r\n                }).bindPopup(\"<div>Hello</div>\");\r\n            }\r\n        })], super.getOptions(props));\r\n    }\r\n}\r\n\r\nexport default withLeaflet(MarkerBoosterLayer);","'use strict';\r\nimport rbush from 'rbush';\r\n\r\nfunction layerFactory(L) {\r\n\r\n    var CanvasIconLayer = (L.Layer ? L.Layer : L.Class).extend({\r\n\r\n        //Add event listeners to initialized section.\r\n        initialize: function (options) {\r\n\r\n            L.setOptions(this, options);\r\n            this._onClickListeners = [];\r\n            this._onHoverListeners = [];\r\n        },\r\n\r\n        setOptions: function (options) {\r\n\r\n            L.setOptions(this, options);\r\n            return this.redraw();\r\n        },\r\n\r\n        redraw: function () {\r\n\r\n            this._redraw(true);\r\n        },\r\n\r\n        //Multiple layers at a time for rBush performance\r\n        addMarkers: function (markers) {\r\n\r\n            var self = this;\r\n            var tmpMark = [];\r\n            var tmpLatLng = [];\r\n\r\n            markers.forEach(function (marker) {\r\n\r\n                if (!((marker.options.pane == 'markerPane') && marker.options.icon))\r\n                {\r\n                    console.error('Layer isn\\'t a marker');\r\n                    return;\r\n                }\r\n\r\n                var latlng = marker.getLatLng();\r\n                var isDisplaying = self._map.getBounds().contains(latlng);\r\n                var s = self._addMarker(marker,latlng,isDisplaying);\r\n\r\n                //Only add to Point Lookup if we are on map\r\n                if (isDisplaying ===true) tmpMark.push(s[0]);\r\n\r\n                tmpLatLng.push(s[1]);\r\n            });\r\n\r\n            self._markers.load(tmpMark);\r\n            self._latlngMarkers.load(tmpLatLng);\r\n        },\r\n\r\n        //Adds single layer at a time. Less efficient for rBush\r\n        addMarker: function (marker) {\r\n\r\n            var self = this;\r\n            var latlng = marker.getLatLng();\r\n            var isDisplaying = self._map.getBounds().contains(latlng);\r\n            var dat = self._addMarker(marker,latlng,isDisplaying);\r\n\r\n            //Only add to Point Lookup if we are on map\r\n            if(isDisplaying ===true) self._markers.insert(dat[0]);\r\n\r\n            self._latlngMarkers.insert(dat[1]);\r\n        },\r\n\r\n        addLayer: function (layer) {\r\n\r\n            if ((layer.options.pane == 'markerPane') && layer.options.icon) this.addMarker(layer);\r\n            else console.error('Layer isn\\'t a marker');\r\n        },\r\n\r\n        addLayers: function (layers) {\r\n\r\n            this.addMarkers(layers);\r\n        },\r\n\r\n        removeLayer: function (layer) {\r\n\r\n            this.removeMarker(layer,true);\r\n        },\r\n\r\n        removeMarker: function (marker,redraw) {\r\n\r\n            var self = this;\r\n\r\n            //If we are removed point\r\n            if(marker[\"minX\"]) marker = marker.data;\r\n\r\n            var latlng = marker.getLatLng();\r\n            var isDisplaying = self._map.getBounds().contains(latlng);\r\n\r\n            var markerData = {\r\n\r\n                minX: latlng.lng,\r\n                minY: latlng.lat,\r\n                maxX: latlng.lng,\r\n                maxY: latlng.lat,\r\n                data: marker\r\n            };\r\n\r\n            self._latlngMarkers.remove(markerData, function (a,b) {\r\n\r\n                return a.data._leaflet_id ===b.data._leaflet_id;\r\n            });\r\n\r\n            self._latlngMarkers.total--;\r\n            self._latlngMarkers.dirty++;\r\n\r\n            if(isDisplaying ===true && redraw ===true) {\r\n\r\n                self._redraw(true);\r\n            }\r\n        },\r\n\r\n        onAdd: function (map) {\r\n\r\n            this._map = map;\r\n\r\n            if (!this._canvas) this._initCanvas();\r\n\r\n            if (this.options.pane) this.getPane().appendChild(this._canvas);\r\n            else map._panes.overlayPane.appendChild(this._canvas);\r\n\r\n            map.on('moveend', this._reset, this);\r\n            map.on('resize',this._reset,this);\r\n\r\n            map.on('click', this._executeListeners, this);\r\n            map.on('mousemove', this._executeListeners, this);\r\n        },\r\n\r\n        onRemove: function (map) {\r\n\r\n            if (this.options.pane) this.getPane().removeChild(this._canvas);\r\n            else map.getPanes().overlayPane.removeChild(this._canvas);\r\n\r\n            map.off('click', this._executeListeners, this);\r\n            map.off('mousemove', this._executeListeners, this);\r\n\r\n            map.off('moveend', this._reset, this);\r\n            map.off('resize',this._reset,this);\r\n        },\r\n\r\n        addTo: function (map) {\r\n\r\n            map.addLayer(this);\r\n            return this;\r\n        },\r\n\r\n        clearLayers: function() {\r\n\r\n            this._latlngMarkers = null;\r\n            this._markers = null;\r\n            this._redraw(true);\r\n        },\r\n\r\n        _addMarker: function(marker,latlng,isDisplaying) {\r\n\r\n            var self = this;\r\n            //Needed for pop-up & tooltip to work.\r\n            marker._map = self._map;\r\n\r\n            //_markers contains Points of markers currently displaying on map\r\n            if (!self._markers) self._markers = new rbush();\r\n\r\n            //_latlngMarkers contains Lat\\Long coordinates of all markers in layer.\r\n            if (!self._latlngMarkers) {\r\n                self._latlngMarkers = new rbush();\r\n                self._latlngMarkers.dirty=0;\r\n                self._latlngMarkers.total=0;\r\n            }\r\n\r\n            L.Util.stamp(marker);\r\n\r\n            var pointPos = self._map.latLngToContainerPoint(latlng);\r\n            var iconSize = marker.options.icon.options.iconSize;\r\n\r\n            var adj_x = iconSize[0]/2;\r\n            var adj_y = iconSize[1]/2;\r\n            var ret = [({\r\n                minX: (pointPos.x - adj_x),\r\n                minY: (pointPos.y - adj_y),\r\n                maxX: (pointPos.x + adj_x),\r\n                maxY: (pointPos.y + adj_y),\r\n                data: marker\r\n            }),({\r\n                minX: latlng.lng,\r\n                minY: latlng.lat,\r\n                maxX: latlng.lng,\r\n                maxY: latlng.lat,\r\n                data: marker\r\n            })];\r\n\r\n            self._latlngMarkers.dirty++;\r\n            self._latlngMarkers.total++;\r\n\r\n            //Only draw if we are on map\r\n            if(isDisplaying===true) self._drawMarker(marker, pointPos);\r\n\r\n            return ret;\r\n        },\r\n\r\n        _drawMarker: function (marker, pointPos) {\r\n\r\n            var self = this;\r\n\r\n            if (!this._imageLookup) this._imageLookup = {};\r\n            if (!pointPos) {\r\n\r\n                pointPos = self._map.latLngToContainerPoint(marker.getLatLng());\r\n            }\r\n\r\n            var iconUrl = marker.options.icon.options.iconUrl;\r\n\r\n            if (marker.canvas_img) {\r\n\r\n                self._drawImage(marker, pointPos);\r\n            }\r\n            else {\r\n\r\n                if(self._imageLookup[iconUrl]) {\r\n\r\n                    marker.canvas_img = self._imageLookup[iconUrl][0];\r\n\r\n                    if (self._imageLookup[iconUrl][1] ===false) {\r\n\r\n                        self._imageLookup[iconUrl][2].push([marker,pointPos]);\r\n                    }\r\n                    else {\r\n\r\n                        self._drawImage(marker,pointPos);\r\n                    }\r\n                }\r\n                else {\r\n\r\n                    var i = new Image();\r\n                    i.src = iconUrl;\r\n                    marker.canvas_img = i;\r\n\r\n                    //Image,isLoaded,marker\\pointPos ref\r\n                    self._imageLookup[iconUrl] = [i, false, [[marker, pointPos]]];\r\n\r\n                    i.onload = function() {\r\n\r\n                        self._imageLookup[iconUrl][1] = true;\r\n                        self._imageLookup[iconUrl][2].forEach(function (e) {\r\n\r\n                            self._drawImage(e[0],e[1]);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        _drawImage: function (marker, pointPos) {\r\n\r\n            var options = marker.options.icon.options;\r\n\r\n            this._context.drawImage(\r\n                marker.canvas_img,\r\n                pointPos.x - options.iconAnchor[0],\r\n                pointPos.y - options.iconAnchor[1],\r\n                options.iconSize[0],\r\n                options.iconSize[1]\r\n            );\r\n        },\r\n\r\n        _reset: function () {\r\n\r\n            var topLeft = this._map.containerPointToLayerPoint([0, 0]);\r\n            L.DomUtil.setPosition(this._canvas, topLeft);\r\n\r\n            var size = this._map.getSize();\r\n\r\n            this._canvas.width = size.x;\r\n            this._canvas.height = size.y;\r\n\r\n            this._redraw();\r\n        },\r\n\r\n        _redraw: function (clear) {\r\n\r\n            var self = this;\r\n\r\n            if (clear) this._context.clearRect(0, 0, this._canvas.width, this._canvas.height);\r\n            if (!this._map || !this._latlngMarkers) return;\r\n\r\n            var tmp = [];\r\n\r\n            //If we are 10% individual inserts\\removals, reconstruct lookup for efficiency\r\n            if (self._latlngMarkers.dirty/self._latlngMarkers.total >= .1) {\r\n\r\n                self._latlngMarkers.all().forEach(function(e) {\r\n\r\n                    tmp.push(e);\r\n                });\r\n\r\n                self._latlngMarkers.clear();\r\n                self._latlngMarkers.load(tmp);\r\n                self._latlngMarkers.dirty=0;\r\n                tmp = [];\r\n            }\r\n\r\n            var mapBounds = self._map.getBounds();\r\n\r\n            //Only re-draw what we are showing on the map.\r\n\r\n            var mapBoxCoords = {\r\n\r\n                minX: mapBounds.getWest(),\r\n                minY: mapBounds.getSouth(),\r\n                maxX: mapBounds.getEast(),\r\n                maxY: mapBounds.getNorth(),\r\n            };\r\n\r\n            self._latlngMarkers.search(mapBoxCoords).forEach(function (e) {\r\n\r\n                //Readjust Point Map\r\n                var pointPos = self._map.latLngToContainerPoint(e.data.getLatLng());\r\n\r\n                var iconSize = e.data.options.icon.options.iconSize;\r\n                var adj_x = iconSize[0]/2;\r\n                var adj_y = iconSize[1]/2;\r\n\r\n                var newCoords = {\r\n                    minX: (pointPos.x - adj_x),\r\n                    minY: (pointPos.y - adj_y),\r\n                    maxX: (pointPos.x + adj_x),\r\n                    maxY: (pointPos.y + adj_y),\r\n                    data: e.data\r\n                }\r\n\r\n                tmp.push(newCoords);\r\n\r\n                //Redraw points\r\n                self._drawMarker(e.data, pointPos);\r\n            });\r\n\r\n            //Clear rBush & Bulk Load for performance\r\n            this._markers.clear();\r\n            this._markers.load(tmp);\r\n        },\r\n\r\n        _initCanvas: function () {\r\n\r\n            this._canvas = L.DomUtil.create('canvas', 'leaflet-canvas-icon-layer leaflet-layer');\r\n            var originProp = L.DomUtil.testProp(['transformOrigin', 'WebkitTransformOrigin', 'msTransformOrigin']);\r\n            this._canvas.style[originProp] = '50% 50%';\r\n\r\n            var size = this._map.getSize();\r\n            this._canvas.width = size.x;\r\n            this._canvas.height = size.y;\r\n\r\n            this._context = this._canvas.getContext('2d');\r\n\r\n            var animated = this._map.options.zoomAnimation && L.Browser.any3d;\r\n            L.DomUtil.addClass(this._canvas, 'leaflet-zoom-' + (animated ? 'animated' : 'hide'));\r\n        },\r\n\r\n        addOnClickListener: function (listener) {\r\n            this._onClickListeners.push(listener);\r\n        },\r\n\r\n        addOnHoverListener: function (listener) {\r\n            this._onHoverListeners.push(listener);\r\n        },\r\n\r\n        _executeListeners: function (event) {\r\n\r\n            if (!this._markers) return;\r\n\r\n            var me = this;\r\n            var x = event.containerPoint.x;\r\n            var y = event.containerPoint.y;\r\n\r\n            if(me._openToolTip) {\r\n\r\n                me._openToolTip.closeTooltip();\r\n                delete me._openToolTip;\r\n            }\r\n\r\n            var ret = this._markers.search({ minX: x, minY: y, maxX: x, maxY: y });\r\n\r\n            if (ret && ret.length > 0) {\r\n\r\n                me._map._container.style.cursor=\"pointer\";\r\n\r\n                if (event.type===\"click\") {\r\n\r\n                    var hasPopup = ret[0].data.getPopup();\r\n                    if(hasPopup) ret[0].data.openPopup();\r\n\r\n                    me._onClickListeners.forEach(function (listener) { listener(event, ret); });\r\n                }\r\n\r\n                if (event.type===\"mousemove\") {\r\n                    var hasTooltip = ret[0].data.getTooltip();\r\n                    if(hasTooltip) {\r\n                        me._openToolTip = ret[0].data;\r\n                        ret[0].data.openTooltip();\r\n                    }\r\n\r\n                    me._onHoverListeners.forEach(function (listener) { listener(event, ret); });\r\n                }\r\n            }\r\n            else {\r\n\r\n                me._map._container.style.cursor=\"\";\r\n            }\r\n        }\r\n    });\r\n\r\n    L.canvasIconLayer = function (options) {\r\n        return new CanvasIconLayer(options);\r\n    };\r\n};\r\n\r\nexport default layerFactory;","import * as React from 'react';\r\nimport { MapLayer, withLeaflet } from 'react-leaflet';\r\nimport L, { LayerGroup as LeafletLayerGroup, icon, circle, geoJSON, marker, circleMarker, divIcon, latLng, LatLng } from 'leaflet';\r\nimport '../leaflet-marker-booster';\r\nimport BaseLayer from './BaseLayer';\r\n\r\n// @ts-ignore\r\nimport layerFactory from \"../leaflet-canvas-marker\";\r\nlayerFactory(L);\r\n\r\nfunction getRandomArbitrary(min: number, max: number) {\r\n    return Math.random() * (max - min) + min;\r\n}\r\n\r\nvar myIcon = icon({\r\n    iconUrl: 'img/arrow2.png',\r\n    iconSize: [20, 18],\r\n    iconAnchor: [10, 9],\r\n});\r\n\r\nclass MarkerCanvasLayer extends BaseLayer { \r\n    createLeafletElement(props: any){ \r\n        const minLat = 51.47293659014834, maxLat = 51.53704658542498;\r\n        const minLng = -0.16719818115234378, maxLng = -0.01270294189453125;\r\n\r\n        const markers: any[] = [];\r\n        for(let i = 0; i < 10_000 ; i++) {\r\n            const lat = getRandomArbitrary(minLat, maxLat);\r\n            const lng = getRandomArbitrary(minLng, maxLng);\r\n            const coordinates = [lng, lat];\r\n            \r\n            const mrk = marker(new LatLng(coordinates[1], coordinates[0]), {\r\n                icon: myIcon\r\n            });\r\n            markers.push(mrk);\r\n        }\r\n\r\n        //@ts-ignore\r\n        var ciLayer = L.canvasIconLayer({});\r\n        setTimeout(() => {\r\n            ciLayer.addLayers(markers);\r\n        }, 0);\r\n\r\n        return new LeafletLayerGroup([ciLayer], this.getOptions({}));\r\n    }\r\n}\r\n\r\nexport default withLeaflet(MarkerCanvasLayer);","export { default as TestComponent } from './components/TestComponent';\r\nexport { default as MarkerBoosterLayer } from './components/MarkerBoosterLayer';\r\nexport { default as MarkerCanvasLayer } from './components/MarkerCanvasLayer';","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","!function(t,i){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=i():\"function\"==typeof define&&define.amd?define(i):(t=t||self).RBush=i()}(this,function(){\"use strict\";function t(t,r,e,a,h){!function t(n,r,e,a,h){for(;a>e;){if(a-e>600){var o=a-e+1,s=r-e+1,l=Math.log(o),f=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*f*(o-f)/o)*(s-o/2<0?-1:1),m=Math.max(e,Math.floor(r-s*f/o+u)),c=Math.min(a,Math.floor(r+(o-s)*f/o+u));t(n,r,m,c,h)}var p=n[r],d=e,x=a;for(i(n,e,r),h(n[a],p)>0&&i(n,e,a);d<x;){for(i(n,d,x),d++,x--;h(n[d],p)<0;)d++;for(;h(n[x],p)>0;)x--}0===h(n[e],p)?i(n,e,x):i(n,++x,a),x<=r&&(e=x+1),r<=x&&(a=x-1)}}(t,r,e||0,a||t.length-1,h||n)}function i(t,i,n){var r=t[i];t[i]=t[n],t[n]=r}function n(t,i){return t<i?-1:t>i?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function e(t,i,n){if(!n)return i.indexOf(t);for(var r=0;r<i.length;r++)if(n(t,i[r]))return r;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,r,e){e||(e=p(null)),e.minX=1/0,e.minY=1/0,e.maxX=-1/0,e.maxY=-1/0;for(var a=i;a<n;a++){var h=t.children[a];o(e,t.leaf?r(h):h)}return e}function o(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function s(t,i){return t.minX-i.minX}function l(t,i){return t.minY-i.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function u(t){return t.maxX-t.minX+(t.maxY-t.minY)}function m(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function c(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,r,e,a){for(var h=[n,r];h.length;)if(!((r=h.pop())-(n=h.pop())<=e)){var o=n+Math.ceil((r-n)/e/2)*e;t(i,o,n,r,a),h.push(n,o,o,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var i=this.data,n=[];if(!c(t,i))return n;for(var r=this.toBBox,e=[];i;){for(var a=0;a<i.children.length;a++){var h=i.children[a],o=i.leaf?r(h):h;c(t,o)&&(i.leaf?n.push(h):m(t,o)?this._all(h,n):e.push(h))}i=e.pop()}return n},r.prototype.collides=function(t){var i=this.data;if(!c(t,i))return!1;for(var n=[];i;){for(var r=0;r<i.children.length;r++){var e=i.children[r],a=i.leaf?this.toBBox(e):e;if(c(t,a)){if(i.leaf||m(t,a))return!0;n.push(e)}}i=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0;i<t.length;i++)this.insert(t[i]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=p([]),this},r.prototype.remove=function(t,i){if(!t)return this;for(var n,r,a,h=this.data,o=this.toBBox(t),s=[],l=[];h||s.length;){if(h||(h=s.pop(),r=s[s.length-1],n=l.pop(),a=!0),h.leaf){var f=e(t,h.children,i);if(-1!==f)return h.children.splice(f,1),s.push(h),this._condense(s),this}a||h.leaf||!m(h,o)?r?(n++,h=r.children[n],a=!1):h=null:(s.push(h),l.push(n),n=0,r=h,h=h.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,i){return t.minX-i.minX},r.prototype.compareMinY=function(t,i){return t.minY-i.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},r.prototype._build=function(t,i,n,r){var e,h=n-i+1,o=this._maxEntries;if(h<=o)return a(e=p(t.slice(i,n+1)),this.toBBox),e;r||(r=Math.ceil(Math.log(h)/Math.log(o)),o=Math.ceil(h/Math.pow(o,r-1))),(e=p([])).leaf=!1,e.height=r;var s=Math.ceil(h/o),l=s*Math.ceil(Math.sqrt(o));d(t,i,n,l,this.compareMinX);for(var f=i;f<=n;f+=l){var u=Math.min(f+l-1,n);d(t,f,u,s,this.compareMinY);for(var m=f;m<=u;m+=s){var c=Math.min(m+s-1,u);e.children.push(this._build(t,m,c,r-1))}}return a(e,this.toBBox),e},r.prototype._chooseSubtree=function(t,i,n,r){for(;r.push(i),!i.leaf&&r.length-1!==n;){for(var e=1/0,a=1/0,h=void 0,o=0;o<i.children.length;o++){var s=i.children[o],l=f(s),u=(m=t,c=s,(Math.max(c.maxX,m.maxX)-Math.min(c.minX,m.minX))*(Math.max(c.maxY,m.maxY)-Math.min(c.minY,m.minY))-l);u<a?(a=u,e=l<e?l:e,h=s):u===a&&l<e&&(e=l,h=s)}i=h||i.children[0]}var m,c;return i},r.prototype._insert=function(t,i,n){var r=n?t:this.toBBox(t),e=[],a=this._chooseSubtree(r,this.data,i,e);for(a.children.push(t),o(a,r);i>=0&&e[i].children.length>this._maxEntries;)this._split(e,i),i--;this._adjustParentBBoxes(r,e,i)},r.prototype._split=function(t,i){var n=t[i],r=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,r);var h=this._chooseSplitIndex(n,e,r),o=p(n.children.splice(h,n.children.length-h));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},r.prototype._splitRoot=function(t,i){this.data=p([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,i,n){for(var r,e,a,o,s,l,u,m=1/0,c=1/0,p=i;p<=n-i;p++){var d=h(t,0,p,this.toBBox),x=h(t,p,n,this.toBBox),v=(e=d,a=x,o=void 0,s=void 0,l=void 0,u=void 0,o=Math.max(e.minX,a.minX),s=Math.max(e.minY,a.minY),l=Math.min(e.maxX,a.maxX),u=Math.min(e.maxY,a.maxY),Math.max(0,l-o)*Math.max(0,u-s)),M=f(d)+f(x);v<m?(m=v,r=p,c=M<c?M:c):v===m&&M<c&&(c=M,r=p)}return r||n-i},r.prototype._chooseSplitAxis=function(t,i,n){var r=t.leaf?this.compareMinX:s,e=t.leaf?this.compareMinY:l;this._allDistMargin(t,i,n,r)<this._allDistMargin(t,i,n,e)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,i,n,r){t.children.sort(r);for(var e=this.toBBox,a=h(t,0,i,e),s=h(t,n-i,n,e),l=u(a)+u(s),f=i;f<n-i;f++){var m=t.children[f];o(a,t.leaf?e(m):m),l+=u(a)}for(var c=n-i-1;c>=i;c--){var p=t.children[c];o(s,t.leaf?e(p):p),l+=u(s)}return l},r.prototype._adjustParentBBoxes=function(t,i,n){for(var r=n;r>=0;r--)o(i[r],t)},r.prototype._condense=function(t){for(var i=t.length-1,n=void 0;i>=0;i--)0===t[i].children.length?i>0?(n=t[i-1].children).splice(n.indexOf(t[i]),1):this.clear():a(t[i],this.toBBox)},r});\n"],"sourceRoot":""}